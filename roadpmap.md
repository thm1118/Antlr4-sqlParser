# PlSql覆盖率工具路线图

定义工具开发规划。

## 需求

- 在SQL语句内注入覆盖率收集器，执行SQL时，收集SQL语句的执行覆盖数据，输出到数据库/文件/远程服务，通过报表查看覆盖情况；

## 功能

- 插桩模块：实现原始SQL输入，输出插桩后的SQL
  - 各种语句覆盖：
    - 常规语句：DDL/DML 等；
    - 分支语句：if/elseif/else; for;switch; 。。。。
- 配置模块：
  - 输入配置
    - 文件目录/文件通配符/流 ；
    - 传入 场景模块的 执行信息；
  - 数据输出配置：
    - 数据库： 初始化数据库表，覆盖率收集器向该表填写数据；
    - 文件：   文件位置，覆盖率收集器把数据写入文件； 文件格式参考jacoco
    - 远程：   远程服务接口，覆盖率收集器 向该接口提交数据，该服务接口后端数据库表结构可与 第一个一致；
- 场景适配模块：与特定使用SQL场景适配，实现简单配置后，非侵入，自动完成SQL覆盖率的采集；
  - RTP
  - 。。。
- 报表模块：输出类似jacoco报表；

